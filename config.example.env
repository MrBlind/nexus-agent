# Nexus Agent 配置文件
# 复制此文件为 .env 并根据您的环境修改相应的值

# ===========================================
# 服务器配置
# ===========================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30
SERVER_WRITE_TIMEOUT=30
SERVER_DEBUG=true

# ===========================================
# 数据库配置 (PostgreSQL)
# ===========================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=nexus
DATABASE_USER=postgres
DATABASE_PASSWORD=password
DATABASE_SSL_MODE=disable
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=5

# ===========================================
# Redis 配置
# ===========================================
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# LLM 配置
# ===========================================
# 通信协议: http, grpc (推荐使用 grpc)
LLM_PROTOCOL=grpc
# HTTP 配置 (当使用 http 协议时)
LLM_BASE_URL=http://localhost:8000
# gRPC 配置 (当使用 grpc 协议时)
LLM_GRPC_TARGET=localhost:50051

# 默认提供商和模型
LLM_DEFAULT_PROVIDER=openai
LLM_DEFAULT_MODEL=gpt-4

# ===========================================
# 多 LLM 提供商配置
# ===========================================

# OpenAI 配置
LLM_PROVIDERS_OPENAI_API_KEY=your_openai_api_key_here
LLM_PROVIDERS_OPENAI_BASE_URL=https://api.openai.com/v1
LLM_PROVIDERS_OPENAI_ORG_ID=

# DeepSeek 配置
LLM_PROVIDERS_DEEPSEEK_API_KEY=your_deepseek_api_key_here
LLM_PROVIDERS_DEEPSEEK_BASE_URL=https://api.deepseek.com

# Anthropic Claude 配置
LLM_PROVIDERS_ANTHROPIC_API_KEY=your_anthropic_api_key_here
LLM_PROVIDERS_ANTHROPIC_BASE_URL=https://api.anthropic.com

# 阿里云通义千问配置
LLM_PROVIDERS_QWEN_API_KEY=your_qwen_api_key_here
LLM_PROVIDERS_QWEN_BASE_URL=https://dashscope.aliyuncs.com/api/v1
LLM_PROVIDERS_QWEN_REGION=cn-hangzhou
LLM_PROVIDERS_QWEN_WORKSPACE=

# 百度文心一言配置
LLM_PROVIDERS_ERNIE_API_KEY=your_ernie_api_key_here
LLM_PROVIDERS_ERNIE_SECRET_KEY=your_ernie_secret_key_here
LLM_PROVIDERS_ERNIE_BASE_URL=https://aip.baidubce.com

# 智谱 ChatGLM 配置
LLM_PROVIDERS_CHATGLM_API_KEY=your_chatglm_api_key_here
LLM_PROVIDERS_CHATGLM_BASE_URL=https://open.bigmodel.cn/api/paas/v4

# ===========================================
# 预算配置
# ===========================================
BUDGET_DEFAULT_TOTAL_TOKENS=10000
BUDGET_DEFAULT_TOTAL_COST=0

# ===========================================
# 可观测性配置
# ===========================================
OBS_LOG_LEVEL=debug

# ===========================================
# 使用说明
# ===========================================
# 1. 复制此文件为 .env: cp config.example.env .env
# 2. 修改 LLM_API_KEY 为您的实际 API 密钥（必需字段）
# 3. 根据您的数据库和 Redis 配置修改相应的连接信息
# 4. 如果在生产环境中使用，请将 SERVER_DEBUG 设置为 false
# 5. 根据需要调整服务器端口和超时设置

# ===========================================
# 环境变量命名规则说明
# ===========================================
# 基于 envconfig 库的规则：
# - 结构体字段名转换为大写，用下划线分隔
# - 嵌套结构体使用 envconfig 标签作为前缀
# - split_words:"true" 表示驼峰命名转换为下划线分隔
# 
# 例如：
# Config.LLM.APIKey -> LLM_API_KEY
# Config.Server.ReadTimeout -> SERVER_READ_TIMEOUT
